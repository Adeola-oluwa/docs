<% 
  @nav = [
    { text: "Docs Index", path: "/docs/", type: "home" },
    { text: "Fly Machines", path: "/docs/machines/", type: "index" },
    { text: "Fly Machines overview", path: "/docs/machines/overview/" },
    { text: "Run a new Machine", path: "/docs/machines/run/" },
    {
      title: "Machines API",
      open: false,
      links: [
        { text: "Working with the Machines API", path: "/docs/machines/working-with-machines/" },
        { text: "Apps", path: "/docs/machines/api-apps-resource/" },
        { text: "Machines", path: "/docs/machines/api-machines-resource/" },
        { text: "Volumes", path: "/docs/machines/api-volumes-resource/" },
        { text: "Machines API Spec", path: "https://docs.machines.dev/#description/introduction" }
      ]
    },
    {
      title: "Guides and Examples",
      open: false,
      links: [
        { text: "Run User Code on Fly Machines", path: "/docs/machines/guides-examples/functions-with-machines/" },
        { text: "Machine Sizing", path: "/docs/machines/guides-examples/machine-sizing/" },
        { text: "Machine restart policy", path: "/docs/machines/guides-examples/machine-restart-policy/" }
      ]
    },
    {
      title: "Reference",
      open: false,
      links: [
        { text: "Machine states", path: "/docs/machines/machine-states/" },
        { text: "flyctl Machine commands", path: "/docs/flyctl/machine/" }
      ]
    }
  ]
  
%>

<%= partial "/docs/partials/accordion_nav", locals: { nav: @nav } %>
<%#= render(DocsNavComponent.new(nav: @nav)) %>
